{% extends 'base.html.twig' %}

{% block title %}Accueil - Playlist Collaborative{% endblock %}

{% block body %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-10 col-lg-8">
            <div class="text-center text-white mb-5">
                <h1 class="display-4 fw-bold mb-3">
                    <i class="bi bi-music-note-list"></i> Playlist Collaborative
                </h1>
                <p class="lead">Pour le nouvel An avec mes amis, on crée une playlist où chacun mets en amont de la soirée 10, 15 ou 20 titres (selon combien on est) et cette playlist tourne en aléatoire.</p>
                <p>On se fait un petit jeu en même temps, si quelqu'un trouve l'artiste, le titre et qui a mis cette musique, il offre une gorgée à qui il souhaite pour chacune des bonnes réponses.</p>
                <p>Bref, que vous fassiez ça ou que vous ayez besoin de faire ce type de playlist, voilà l'outil idéal :)</p>
            </div>

            {% for message in app.flashes('error') %}
                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
            {% endfor %}

            <div class="row g-4">
                <div class="col-md-6">
                    <div class="card h-100">
                        <div class="card-body p-4">
                            <h3 class="card-title text-center mb-4">
                                <i class="bi bi-plus-circle text-primary"></i> Créer une session
                            </h3>
                            <form action="{{ path('app_create_session') }}" method="POST">
                                <div class="mb-3">
                                    <label for="session_name" class="form-label">Nom de la session</label>
                                    <input type="text" class="form-control" id="session_name" name="session_name"
                                           placeholder="Ma super playlist" required>
                                </div>
                                <div class="mb-4">
                                    <label for="max_tracks" class="form-label">Limite de titres par participant</label>
                                    <input type="number" class="form-control" id="max_tracks" name="max_tracks"
                                           placeholder="Laisser vide pour illimité" min="1">
                                    <small class="text-muted">Optionnel</small>
                                </div>
                                <button type="submit" class="btn btn-primary w-100 btn-lg">
                                    <i class="bi bi-play-circle"></i> Créer la session
                                </button>
                            </form>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="card h-100">
                        <div class="card-body p-4">
                            <h3 class="card-title text-center mb-4">
                                <i class="bi bi-box-arrow-in-right text-success"></i> Rejoindre une session
                            </h3>
                            <form action="{{ path('app_join_session_code') }}" method="POST">
                                <div class="mb-4">
                                    <label for="code" class="form-label">Code de session (5 caractères)</label>
                                    <input type="text" class="form-control text-uppercase text-center fs-4"
                                           id="code" name="code" placeholder="ABC12" maxlength="5" required
                                           style="letter-spacing: 5px;">
                                    <small class="text-muted">Entrez le code partagé par l'organisateur</small>
                                </div>
                                <button type="submit" class="btn btn-success w-100 btn-lg">
                                    <i class="bi bi-door-open"></i> Rejoindre
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div class="text-center text-white mt-5">
                <p class="mb-0">
                    <i class="bi bi-info-circle"></i> Une fois dans la session, ajoutez vos titres préférés et créez une playlist collaborative !
                </p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
